<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Factory AI Chat</title>
<style>
body{margin:0;font-family:Arial;background:#0f172a;color:#fff;display:flex;flex-direction:column;height:100vh;overflow:hidden}
header{background:#1e293b;padding:12px;text-align:center;font-weight:bold;font-size:18px}
#chat{flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column;gap:10px;padding-bottom:80px}
.msg{max-width:80%;padding:10px 14px;border-radius:14px;white-space:pre-wrap;line-height:1.4}
.user{align-self:flex-end;background:#2563eb}
.bot{align-self:flex-start;background:#334155}
footer{position:fixed;bottom:0;left:0;width:100%;display:flex;padding:10px;background:#1e293b}
input{flex:1;padding:12px;border:none;border-radius:10px;font-size:16px}
button{margin-left:10px;padding:12px 18px;border:none;border-radius:10px;background:#22c55e;color:#000;font-weight:bold;cursor:pointer}
button:hover{background:#16a34a}
</style>
</head>
<body>
<header>üè≠ 34" Factory ERP AI</header>
<div id="chat"></div>
<footer>
<input id="q" placeholder="Type: noor cpb / 656 / today / total dyeing" />
<button onclick="send()">Send</button>
</footer>
<script>
const chat=document.getElementById('chat');
function add(text,type){const d=document.createElement('div');d.className='msg '+type;d.textContent=text;chat.appendChild(d);chat.scrollTop=chat.scrollHeight}
async function send(){const input=document.getElementById('q');const text=input.value.trim();if(!text)return;add(text,'user');input.value='';try{const r=await fetch('/ask',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({question:text})});const j=await r.json();add(j.reply,'bot')}catch(e){add('Server error','bot')}}
document.getElementById('q').addEventListener('keypress',e=>{if(e.key==='Enter')send()});
</script>
</body>
</html>
